{% assign current_project = page.slug %}

{% for project in site.data.project_order.projects %}
  {% if current_project == project %}
    {% assign total_projects = site.data.project_order.projects | size %}
    {% assign prev_index = forloop.index | minus:1 %}
    {% if prev_index == 0 %}
      {% assign prev_index = total_projects %}
    {% endif %}

    {% assign next_index = forloop.index | plus:1  %}
    {% if next_index > total_projects %}
      {% assign next_index = 1 %}
    {% endif %}
  {% endif %}  
{% endfor %}

{% for project in site.data.project_order.projects %}
  {% if forloop.index == prev_index %}
    {% assign prev_project = site.projects | where: "slug", project | first %}
  {% endif %}
  {% if forloop.index == next_index %}
    {% assign next_project = site.projects | where: "slug", project | first %}
  {% endif %}
{% endfor %}
<section id="related-projects" class="bg-orange">
  <div class="row align-items-center">
    <div class="col-12">
      <div class="content text-align-center">
        <div class="d-flex align-items-center justify-content-center">
          <a href="{{ prev_project.url }}" class="mx-2 text-white">
            Previous
          </a>
          /
          <a href="{{ next_project.url }}" class="mx-2 text-white">
            Next
          </a>
        </div>
      </div>
    </div>
  </div>
</section>